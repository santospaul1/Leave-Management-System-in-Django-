{% extends 'base.html' %}

{% block content %}

<h1>Pending Leaves</h1>

<table>
  <thead>
    <tr>
      <th>S.N</th>
      <th>Employee ID</th>
      <th>Full Name</th>
      <th>Leave Type</th>
      <th>Applied On</th>
      <th>Current Status</th>
    </tr>
  </thead>

  <tbody>
    {% for leave in leaves %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>{{ leave.employee.emp_id }}</td>
      <td><a href="{% url 'employee_detail' leave.employee.id %}">{{ leave.employee.first_name }} {{ leave.employee.last_name }}</a></td>
      <td>{{ leave.leave_type }}</td>
      <td>{{ leave.posting_date }}</td>
      <td>
        {% if leave.status == 0 %}
          <span style="color: blue">Pending</span>
        {% elif leave.status == 1 %}  
          <span style="color: green">Approved</span>
        {% else %}
          <span style="color: red">Declined</span>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>

</table>

{% endblock %}